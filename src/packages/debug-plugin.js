import o from"@swup/plugin";class l extends o{constructor(o){void 0===o&&(o={}),super(),this.name="SwupDebugPlugin",this.requires={swup:">=4"},this.defaults={globalInstance:!1},this.options={...this.defaults,...o}}mount(){const o=this.swup;this.originalSwupLog=o.log,o.log=this.log,this.options.globalInstance&&(window.swup=o),document.getElementsByTagName("title").length||this.warn("This page doesn't have a title tag. It is required on every page."),this.originalSwupHookCall=o.hooks.call.bind(o.hooks),this.originalSwupHookCallSync=o.hooks.callSync.bind(o.hooks),o.hooks.call=this.callHook.bind(this),o.hooks.callSync=this.callHookSync.bind(this)}unmount(){super.unmount(),this.swup.log=this.originalSwupLog,this.swup.hooks.call=this.originalSwupHookCall,this.swup.hooks.callSync=this.originalSwupHookCallSync,this.options.globalInstance&&(window.swup=null)}logHook(o,l){console.groupCollapsed("%cswup:%c"+o,"color: #343434","color: #009ACD"),console.log(l),console.groupEnd()}callHook(o,l){try{const s=this;return Promise.resolve(s.originalSwupHookCall(o,l,...[].slice.call(arguments,2))).then(function(n){return s.logHook(o,l),n})}catch(o){return Promise.reject(o)}}callHookSync(o,l){const s=this.originalSwupHookCallSync(o,l,...[].slice.call(arguments,2));return this.logHook(o,l),s}log(o,l){if(l){console.groupCollapsed(o);for(let o in l)console.log(l[o]);console.groupEnd()}else console.log(o+"%c","color: #009ACD")}warn(o){console.warn(`[swup debug plugin] ${o}`)}error(o){console.error(`[swup debug plugin] ${o}`)}}export{l as default};
//# sourceMappingURL=index.module.js.map
