---
import Layout from '../layouts/Layout.astro';
import TestComponent from '../components/Test.svelte';
---

<Layout title="Client" classes="client">
	<article>
		<h1>Client</h1>
		<p class="section">
			Expecting an interactive clock and a clickable counter button.
		</p>
		<div class="card-grid">
			<div class="card">
				<TestComponent client:visible />
			</div>
			<div class="card">
				<astro-heart>
					<button aria-label="Heart">ðŸ’œ</button> Ã— <span>0</span>
				</astro-heart>
			</div>
		</div>
	</article>

	<script>
		customElements.define('astro-heart', class extends HTMLElement {
			count = 0;
			constructor() {
				super();
				this.button = this.querySelector('button');
				this.label = this.querySelector('span');
				this.button.addEventListener('click', () => {
					this.increase();
					this.update();
				});
			}
			increase() {
				this.count++;
			}
			update() {
				this.label.textContent = this.count;
			}
		});
	</script>

</Layout>
